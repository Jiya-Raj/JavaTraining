package q2_BookStore;

import java.util.*;

public class BookStore {
 private Book[] books;
 private HashSet<Integer> freeSlots;
 
 public BookStore(){
	 this.books=new Book[20];
	 this.freeSlots= {0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19};
 }
 
 public void sell(String title,int count) {
	 
	 for(int i=0;i<books.length;i++) {
		 Book book=books[i];
		 if(book.getBookTitle().equals(title)) {
			 int copiesWeHave=book.getNumOfCopies();
			 int decreasedCopies=copiesWeHave-count;
			 if(count<0) {
				 System.out.println("Not enough Stock");
			 }else if(count==0){
				 books[i]=null;
				 freeSlots.add(i);
			 }else {
				 book.setNumOfCopies(decreasedCopies);
			 }
			 return;
		 }
	 }
	 System.out.println("Book not found");
 }
 
 public void order(String isbn,int count) {

	 
	 for(int i=0;i<books.length;i++) {
		 Book book=books[i];
		 if(book.getISBN().equals(isbn)) {
			 book.setNumOfCopies(book.getNumOfCopies()+count);
			 return;
		 }
	 }
	 
	 //if Book is not there 
	 Scanner sc=new Scanner(System.in);
	 String Title=sc.nextLine();
	 String Author=sc.nextLine();
	 if(freeSlots.size()==20) {
		 System.out.println("Not enough Space");
		 return;
	 }
	 Book newBook=new Book(Title,Author,isbn,count);
	 
	 
 }
 
 public void display() {
	 for(Book book:books) {
		 if(book!=null) {
			 book.display();
		 }
		 
	 }
 }
 
 
}
